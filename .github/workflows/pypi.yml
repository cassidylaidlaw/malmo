name: Publish to PyPI

on:
  push:
    tags:
      - v*

jobs:
  download-wheels:
    runs-on: ubuntu-latest
    steps:
      - name: Download artifact
        id: download-artifact
        uses: dawidd6/action-download-artifact@v2
        with:
          github_token: ${{secrets.GITHUB_TOKEN}}
          workflow: wheels.yml
          branch: master
      - name: Display output
        run: ls -R
        
  # publish:
  #   name: Publish to PyPI
  #   runs-on: ubuntu-latest

  #   steps:
  #     - uses: actions/checkout@v2

  #     - name: Install Python
  #       uses: actions/setup-python@v2
  #       with:
  #         python-version: 3.8

  #     - name: Cache pip
  #       uses: actions/cache@v1
  #       with:
  #         path: ~/.cache/pip  # This path is specific to Ubuntu
  #         key: ${{ runner.os }}-pip-${{ hashFiles('requirements.txt') }}
  #         restore-keys: |
  #           ${{ runner.os }}-pip-

  #     - name: Install pypa/build
  #       run: |
  #         python -m pip install build --user
  #     - name: Build a binary wheel and a source tarball
  #       run: |
  #         python -m build --sdist --wheel --outdir dist/ .
  #     - name: Publish distribution to PyPI
  #       if: startsWith(github.ref, 'refs/tags')
  #       uses: pypa/gh-action-pypi-publish@release/v1
  #       with:
            
  #         password: ${{ secrets.PYPI_API_TOKEN }}